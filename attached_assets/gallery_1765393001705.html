<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MDRRMO Photo Documentations Gallery</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 50%, #a1c4fd 100%);
      background-attachment: fixed;
      min-height: 100vh;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    /* Animated Background Pattern */
    .background-pattern {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0.3;
      z-index: 0;
      pointer-events: none;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.2) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(255,255,255,0.2) 0%, transparent 20%),
        repeating-linear-gradient(45deg, transparent, transparent 25px, rgba(255,255,255,0.1) 25px, rgba(255,255,255,0.1) 50px);
    }

    /* Topbar */
    .topbar {
      position: sticky;
      top: 0;
      width: 100%;
      height: 70px;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 30px;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .topbar-logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .logo-icon {
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, #ff6b6b, #ffa502);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
    }

    .logo-icon svg {
      width: 28px;
      height: 28px;
      fill: white;
    }

    .topbar-title {
      font-size: 22px;
      font-weight: 700;
      color: #333;
      text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
      letter-spacing: 1px;
    }

    .menu-toggle {
      display: none;
      width: 50px;
      height: 40px;
      background: rgba(255, 255, 255, 0.3);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 5px;
      transition: all 0.3s ease;
    }

    .menu-toggle:hover {
      background: rgba(255, 255, 255, 0.4);
      transform: scale(1.05);
    }

    .menu-toggle span {
      width: 24px;
      height: 3px;
      background: #333;
      border-radius: 2px;
      transition: all 0.3s ease;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: rotate(45deg) translate(7px, 7px);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -7px);
    }

    /* Main Container */
    .main-container {
      display: flex;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      min-height: calc(100vh - 70px);
      background: linear-gradient(180deg, #000A60 0%, #2575fc 100%);
      box-shadow: 4px 0 20px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease;
      position: relative;
      z-index: 999;
    }

    .sidebar.collapsed {
      transform: translateX(-100%);
    }

    .sidebar-nav {
      flex: 1;
      padding: 20px 0;
      overflow-y: auto;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px 25px;
      margin: 5px 15px;
      background: rgba(255, 249, 234, 1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      color: rgba(255, 255, 255, 0.9);
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 15px;
      font-weight: 500;
      width: calc(100% - 30px);
    }

    .nav-item:hover {
      background: rgba(255, 255, 255, 1);
      border-color: rgba(255, 255, 255, 0.4);
      color: white;
      transform: translateX(5px);
      box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
    }

    .nav-item.active {
      background: linear-gradient(135deg, #ff6b6b, #ffa502);
      border-color: transparent;
      color: white;
      box-shadow: 0 4px 20px rgba(255, 107, 107, 0.4);
    }

    .nav-item-icon {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nav-item-icon svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }

    .sidebar-footer {
      padding: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      text-align: center;
    }

    .footer-text {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.5;
    }

    /* Content Area */
    .content-area {
      flex: 1;
      padding: 40px;
      transition: all 0.3s ease;
    }

    .content-card {
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.4);
      min-height: 600px;
    }

    .content-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px;
      padding-bottom: 25px;
      border-bottom: 2px solid rgba(255, 255, 255, 0.4);
      flex-wrap: wrap;
      gap: 20px;
    }

    .content-title {
      font-size: 28px;
      font-weight: 700;
      color: #333;
      text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
    }

    .content-description {
      font-size: 16px;
      color: #555;
      margin-top: 10px;
      font-style: italic;
      max-width: 600px;
    }

    .search-form {
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.35);
      border-radius: 30px;
      padding: 8px 20px;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.4);
      min-width: 250px;
    }

    .search-form:focus-within {
      background: rgba(255, 255, 255, 0.45);
      box-shadow: 0 4px 20px rgba(255, 107, 107, 0.3);
      transform: scale(1.02);
    }

    .search-icon {
      width: 20px;
      height: 20px;
      margin-right: 10px;
    }

    .search-icon svg {
      width: 100%;
      height: 100%;
      fill: #333;
    }

    .search-input {
      flex: 1;
      border: none;
      background: transparent;
      color: #333;
      font-size: 15px;
      outline: none;
    }

    .search-input::placeholder {
      color: rgba(51, 51, 51, 0.7);
    }

    /* Grid View */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 8px;
      margin-top: 20px;
    }

    .grid-item {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .grid-item:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 12px 30px rgba(255, 107, 107, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .grid-item-image {
      width: 100%;
      height: 150px;
      object-fit: cover;
      background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(255, 165, 2, 0.2));
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 20px;
    }

    .grid-item-image img {
      width: 100%;
      height: 80%;
      object-fit: cover;
    }

    .grid-item-title {
      padding: 5px 5px 5px;
      color: #333;
      font-size: 12px;
      font-weight: 600;
      text-align: center;
      background: rgba(255, 255, 255, 0.3);
    }

    .grid-item-description {
      padding: 5px 5px 5px;
      color: #555;
      font-size: 13px;
      text-align: center;
      line-height: 1.4;
    }

    /* Subfolder Grid */
    .subfolder-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 10px;
      margin-bottom: 15px;
    }

    .subfolder-item {
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 8px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .subfolder-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 107, 107, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .subfolder-icon {
      width: 30px;
      height: 30px;
      margin: 0 auto 5px;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
    }

    .subfolder-title {
      color: #333;
      font-size: 14px;
      font-weight: 500;
      line-height: 1.3;
    }

    /* Modal Viewer */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }

    .modal.active {
      display: flex;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .modal-image {
      max-width: 100%;
      max-height: 70%;
      border-radius: 10px;
      box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5);
    }

    .modal-controls {
      display: flex;
      gap: 15px;
      margin-top: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .modal-btn {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      padding: 12px 20px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .modal-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
    }

    .modal-btn svg {
      width: 18px;
      height: 18px;
      fill: white;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255, 87, 108, 0.8);
      transform: rotate(90deg);
    }

    .modal-close svg {
      width: 24px;
      height: 24px;
      fill: white;
    }

    /* Loading Spinner */
    .loading {
      text-align: center;
      padding: 40px;
      color: #333;
      font-size: 18px;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: #ff6b6b;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .menu-toggle {
        display: flex;
      }

      .sidebar {
        position: fixed;
        left: 0;
        top: 70px;
        height: calc(100vh - 70px);
        z-index: 1100;
      }

      .content-area {
        padding: 20px;
      }

      .topbar-title {
        font-size: 16px;
      }

      .content-title {
        font-size: 22px;
      }

      .grid-container {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
      }

      .subfolder-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 15px;
      }

      .modal-controls {
        gap: 10px;
      }

      .modal-btn {
        padding: 10px 15px;
        font-size: 12px;
      }
    }

    @media (max-width: 480px) {
      .topbar {
        padding: 0 15px;
      }

      .topbar-title {
        display: none;
      }

      .content-card {
        padding: 20px;
      }

      .grid-container {
        grid-template-columns: 1fr;
      }

      .subfolder-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      hr.dotted {
        border-top: 3px dotted #bbb;
      }
    }
  </style>
</head>
<body>
  <div class="background-pattern"></div>
  
  <!-- Topbar -->
  <header class="topbar">
    <div class="topbar-logo">
      <div class="logo-icon">
        <a href="index.html" class="flex items-center">
                    <img src="https://res.cloudinary.com/dedcmctqk/image/upload/v1750079276/logome_h9snnx.webp" alt="MDRRMO" class="h-12 w-auto">
                </a>
      </div>
      <h1 class="topbar-title" id="topbar-title">MDRRMO PIO DURAN PHOTO DOCUMENTATIONS</h1>
    
    </div>

    <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>
  
  <div class="main-container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <nav class="sidebar-nav" id="sidebar-nav" role="navigation">
        <button class="nav-item active" data-folder="113-TFP9ICiTo3jua4ex51bYYo3T61pkh" data-name="Accident Response">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 18c-3.9-1-7-5.1-7-9.5V8l7-3.5 7 3.5v2.5c0 4.4-3.1 8.5-7 9.5z"/>
            </svg>
          </div>
          <span>Accident Response</span>
        </button>
        
        <button class="nav-item" data-folder="1cWG2SYX9plPBjHnGQaCP_GEOmS4CcUD6" data-name="Awareness Seminar">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Awareness Seminar</span>
        </button>
        
        <button class="nav-item" data-folder="1Sp88D-n-7-Zmck4o4x7j5QgeuASD_dww" data-name="BLS/First Aid">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>BLS/First Aid</span>
        </button>
        
        <button class="nav-item" data-folder="1E7tr6absqZuJpmS_PnKFeAlyc31_gqd9" data-name="Clearing Operations">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Clearing Operations</span>
        </button>
        
        <button class="nav-item" data-folder="1vuG7sbGudO20XDwZKiKbf4lLplMNvAhm" data-name="Coastal Cleanup">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Coastal Cleanup</span>
        </button>
        
        <button class="nav-item" data-folder="1xtYXelO2V1vc4_iFiQKdVZINr5I3EN_4" data-name="Community Cleanup">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Community Cleanup</span>
        </button>
        
        <button class="nav-item" data-folder="1OWykAj_Jv07lcAVRlMuX-2dtAh5BOJ5v" data-name="Damage Assessment">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Damage Assessment</span>
        </button>
        
        <button class="nav-item" data-folder="1uqcJjy1EH4fp9f_QEbv4dnX5YVBpznXA" data-name="Earthquake Drill">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Earthquake Drill</span>
        </button>
        
        <button class="nav-item" data-folder="1QWR29UZ6Fck5R0FmOz0Kk7WwdOSptLr3" data-name="Equipment Purchase">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Equipment Purchase</span>
        </button>
        
        <button class="nav-item" data-folder="1HB1iE6wBdDiHVS0rWbrNfJkWxB2oIql9" data-name="MDRRMC Meetings">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>MDRRMC Meetings</span>
        </button>
        
        <button class="nav-item" data-folder="1eaLeTKNz6FmP5kPg13pQG6hFTZUvbIDC" data-name="Fire Drill">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Fire Drill</span>
        </button>
        
        <button class="nav-item" data-folder="1jLWPrJZGq9yu76zkqa9IS6wHJD1qAn2l" data-name="Emergency Response">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Emergency Response</span>
        </button>
        
        <button class="nav-item" data-folder="1jLWPrJZGq9yu76zkqa9IS6wHJD1qAn2l" data-name="Materials Distribution">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Materials Distribution</span>
        </button>
        
        <button class="nav-item" data-folder="1JFKbbe6E29lsnYz5nJTSdD6IrvfSxkyP" data-name="Medical Response">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Medical Response</span>
        </button>
        
        <button class="nav-item" data-folder="1ZPsszXPR81sZ8k0aAUcrJj4AZTfnaKGM" data-name="Relief Distribution">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Relief Distribution</span>
        </button>
        
        <button class="nav-item" data-folder="1Q_vpfNg7OLG_qV2BB5wDFz7UAeePvda_" data-name="SAR Training">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>SAR Training</span>
        </button>
        
        <button class="nav-item" data-folder="1hv6M_4rI--gqqkw9cYfx15eww8gOCLb2" data-name="Stakeholder Meeting">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Stakeholder Meeting</span>
        </button>
        
        <button class="nav-item" data-folder="1WdbUKqK1re22KmuRqEivGDqv-qmmvpBH" data-name="Supplies Inventory">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Supplies Inventory</span>
        </button>
        
        <button class="nav-item" data-folder="16niz4hdvCQJA9owGT2XB7ZLeLM4dVKbQ" data-name="Typhoon Monitoring">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Typhoon Monitoring</span>
        </button>
        
        <button class="nav-item" data-folder="1O3EdoWzgRCr3Ob4-cVPsC69YhFoID2X_" data-name="Typhoon Response">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Typhoon Response</span>
        </button>
        
        <button class="nav-item" data-folder="1WiDP3Af5x_XbOdfsOoieifL_AySDit4t" data-name="Vehicle Check">
          <div class="nav-item-icon">
            <svg viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <span>Vehicle Check</span>
        </button>
      </nav>
      <div class="sidebar-footer">
        <div class="footer-text" id="footer-text">
          ¬© 2025 MDRRMO Pio Duran, Albay. All rights reserved.
        </div>
      </div>
    </aside>
    
    <!-- Content Area -->
    <main class="content-area" id="content-area">
      <div class="content-card">
        <div class="content-header">
          <div>
            <h2 class="content-title" id="content-title">Accident Response</h2>
            <div class="content-description" id="content-description">Responders assisting victims and securing the scene.</div>
          </div>
          <form class="search-form" id="search-form" role="search">
            <div class="search-icon">
              <svg viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
              </svg>
            </div>
            <input type="search" class="search-input" id="search-input" placeholder="Search photos..." aria-label="Search photos">
          </form>
        </div>

        <!-- SUB FOLDER CONTENT-->
        <div id="subfolderContent" class="subfolder-grid">
          <!-- Sub Folder will be loaded here -->
        </div>

        <hr class="dotted">
        <!-- Sub Folder Images Item will be loaded here -->
        <div id="grid-view">
          <div class="loading">
            <div class="spinner"></div>
            <p>Loading photo collections from Google Drive...</p>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <!-- Modal Viewer -->
  <div class="modal" id="modal" role="dialog" aria-modal="true">
    <button class="modal-close" id="modal-close" aria-label="Close viewer">
      <svg viewBox="0 0 24 24">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
      </svg>
    </button>
    <div class="modal-content">
      <img class="modal-image" id="modal-image" src="" alt="Photo preview">
      <div class="modal-controls">
        <button class="modal-btn" id="btn-prev">
          <svg viewBox="0 0 24 24">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
          </svg>
          Previous
        </button>
        <button class="modal-btn" id="btn-zoom-in">
          <svg viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
          </svg>
          Zoom In
        </button>
        <button class="modal-btn" id="btn-zoom-out">
          <svg viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"/>
          </svg>
          Zoom Out
        </button>
        <button class="modal-btn" id="btn-download">
          <svg viewBox="0 0 24 24">
            <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/>
          </svg>
          Download
        </button>
        <button class="modal-btn" id="btn-copy">
          <svg viewBox="0 0 24 24">
            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
          </svg>
          Copy Link
        </button>
        <button class="modal-btn" id="btn-next">
          Next
          <svg viewBox="0 0 24 24">
            <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <script>
    // Google API Key
    const GOOGLE_API_KEY = "AIzaSyCDcthLGNPlbMr4AFzuK5tl0CMTzsQI9EI";
    
    // Folder cache
    const folderCache = {};
    
    // Default configuration
    const defaultConfig = {
      page_title: "MDRRMO PHOTO DOCUMENTATIONS",
      footer_text: "¬© 2025 MDRRMO Pio Duran, Albay. All rights reserved.",
      background_color: "#ff9a9e",
      surface_color: "#ffffff",
      text_color: "#333333",
      primary_action_color: "#ff6b6b",
      secondary_action_color: "#ffa502",
      font_family: "Segoe UI",
      font_size: 16
    };

    // Descriptions for each folder
    const folderDescriptions = {
      "113-TFP9ICiTo3jua4ex51bYYo3T61pkh": "Responders assisting victims and securing the scene.",
      "1cWG2SYX9plPBjHnGQaCP_GEOmS4CcUD6": "Participants, speakers, and presentations.",
      "1Sp88D-n-7-Zmck4o4x7j5QgeuASD_dww": "CPR and basic first aid demonstrations.",
      "1E7tr6absqZuJpmS_PnKFeAlyc31_gqd9": "Removal of debris or fallen trees.",
      "1vuG7sbGudO20XDwZKiKbf4lLplMNvAhm": "Volunteers cleaning shoreline areas.",
      "1xtYXelO2V1vc4_iFiQKdVZINr5I3EN_4": "Community members cleaning public spaces.",
      "1OWykAj_Jv07lcAVRlMuX-2dtAh5BOJ5v": "Photos of damaged areas and assessment teams.",
      "1uqcJjy1EH4fp9f_QEbv4dnX5YVBpznXA": "Evacuation and duck-cover-hold practice.",
      "1QWR29UZ6Fck5R0FmOz0Kk7WwdOSptLr3": "Documentation of new DRRM equipment.",
      "1HB1iE6wBdDiHVS0rWbrNfJkWxB2oIql9": "Planning discussions and coordination.",
      "1eaLeTKNz6FmP5kPg13pQG6hFTZUvbIDC": "Fire evacuation and response practice.",
      "1jLWPrJZGq9yu76zkqa9IS6wHJD1qAn2l": "Rapid response actions during emergencies.",
      "1ZPsszXPR81sZ8k0aAUcrJj4AZTfnaKGM": "Distribution of relief goods to residents.",
      "1JFKbbe6E29lsnYz5nJTSdD6IrvfSxkyP": "On-site medical care provided by responders.",
      "1Q_vpfNg7OLG_qV2BB5wDFz7UAeePvda_": "Search and rescue skills training.",
      "1hv6M_4rI--gqqkw9cYfx15eww8gOCLb2": "Meetings with partner agencies or groups.",
      "1WdbUKqK1re22KmuRqEivGDqv-qmmvpBH": "Counting and checking DRRM supplies.",
      "16niz4hdvCQJA9owGT2XB7ZLeLM4dVKbQ": "Observing weather and typhoon conditions.",
      "1O3EdoWzgRCr3Ob4-cVPsC69YhFoID2X_": "Emergency actions during/after typhoon.",
      "1WiDP3Af5x_XbOdfsOoieifL_AySDit4t": "Inspection of emergency vehicles and equipment."
    };

    let currentCategory = "Typhoon Response";
    let currentFolderId = "1O3EdoWzgRCr3Ob4-cVPsC69YhFoID2X_";
    let currentSubfolderId = null;
    let currentItems = [];
    let filteredItems = [];
    let currentIndex = 0;
    let zoomLevel = 1;

    function handleResponsiveLayout() {
      const sidebar = document.getElementById('sidebar');
      const menuToggle = document.getElementById('menu-toggle');
      const contentArea = document.getElementById('content-area');
      
      if (window.innerWidth <= 768) {
        // Mobile view - collapse sidebar by default
        if (!sidebar.classList.contains('collapsed')) {
          sidebar.classList.add('collapsed');
          menuToggle.classList.remove('active');
        }
        // Adjust content area for mobile
        contentArea.style.padding = '20px';
      } else {
        // Desktop view - show sidebar
        sidebar.classList.remove('collapsed');
        menuToggle.classList.remove('active');
        // Reset content area padding
        contentArea.style.padding = '40px';
      }
    }

    function attachEventListeners() {
      // Menu toggle
      const menuToggle = document.getElementById('menu-toggle');
      const sidebar = document.getElementById('sidebar');
      
      if (menuToggle) {
        menuToggle.addEventListener('click', () => {
          sidebar.classList.toggle('collapsed');
          menuToggle.classList.toggle('active');
        });
      }

      // Navigation items
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(item => {
        item.addEventListener('click', () => {
          navItems.forEach(nav => nav.classList.remove('active'));
          item.classList.add('active');
          currentCategory = item.dataset.name;
          currentFolderId = item.dataset.folder;
          currentSubfolderId = null;
          loadCategory(currentCategory, currentFolderId);
          
          // Close sidebar on mobile
          if (window.innerWidth <= 768) {
            sidebar.classList.add('collapsed');
            menuToggle.classList.remove('active');
          }
        });
      });

      // Search
      const searchForm = document.getElementById('search-form');
      const searchInput = document.getElementById('search-input');
      if (searchForm) {
        searchForm.addEventListener('submit', (e) => {
          e.preventDefault();
        });
      }
      if (searchInput) {
        searchInput.addEventListener('input', (e) => {
          filterItems(e.target.value);
        });
      }

      // Modal controls
      const modal = document.getElementById('modal');
      const modalClose = document.getElementById('modal-close');
      const btnPrev = document.getElementById('btn-prev');
      const btnNext = document.getElementById('btn-next');
      const btnZoomIn = document.getElementById('btn-zoom-in');
      const btnZoomOut = document.getElementById('btn-zoom-out');
      const btnDownload = document.getElementById('btn-download');
      const btnCopy = document.getElementById('btn-copy');

      if (modalClose) {
        modalClose.addEventListener('click', closeModal);
      }
      if (modal) {
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeModal();
        });
      }

      if (btnPrev) {
        btnPrev.addEventListener('click', showPrevious);
      }
      if (btnNext) {
        btnNext.addEventListener('click', showNext);
      }
      if (btnZoomIn) {
        btnZoomIn.addEventListener('click', zoomIn);
      }
      if (btnZoomOut) {
        btnZoomOut.addEventListener('click', zoomOut);
      }
      if (btnDownload) {
        btnDownload.addEventListener('click', downloadImage);
      }
      if (btnCopy) {
        btnCopy.addEventListener('click', copyLink);
      }

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        const modal = document.getElementById('modal');
        if (modal && modal.classList.contains('active')) {
          if (e.key === 'Escape') closeModal();
          if (e.key === 'ArrowLeft') showPrevious();
          if (e.key === 'ArrowRight') showNext();
          if (e.key === '+' || e.key === '=') zoomIn();
          if (e.key === '-') zoomOut();
        }
      });

      // Mouse wheel zoom for modal image
      const modalImage = document.getElementById('modal-image');
      if (modalImage) {
        modalImage.addEventListener('wheel', (e) => {
          e.preventDefault();
          if (e.deltaY < 0) {
            zoomIn();
          } else {
            zoomOut();
          }
        });
      }
    }

    // Fetch folders from Google Drive
    async function fetchFoldersFromFolder(folderId) {
      try {
        const response = await fetch(
          `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents+and+mimeType='application/vnd.google-apps.folder'&key=${GOOGLE_API_KEY}&fields=files(id,name)`
        );
        if (!response.ok) {
          throw new Error('Failed to fetch folders from Google Drive');
        }
        
        const data = await response.json();
        return data.files || [];
      } catch (error) {
        console.error('Error fetching folders:', error);
        return [];
      }
    }

    // Fetch files from Google Drive folder
    async function fetchFilesFromFolder(folderId) {
      if (folderCache[folderId]) {
        return folderCache[folderId];
      }

      try {
        const response = await fetch(
          `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents&key=${GOOGLE_API_KEY}&fields=files(id,name,mimeType,thumbnailLink,webContentLink)`
        );
        if (!response.ok) {
          throw new Error('Failed to fetch files from Google Drive');
        }
        
        const data = await response.json();
        const files = data.files || [];
        
        // Filter for images and transform to our format
        const items = files
          .filter(file => file.mimeType && file.mimeType.startsWith('image/'))
          .map((file, index) => {
            // Create a high-res preview link by modifying the thumbnail link
            let previewUrl = "";
            if (file.thumbnailLink) {
                previewUrl = file.thumbnailLink.replace(/=s\d+.*$/, "=s4000");
            } else {
                // Fallback if no thumbnail link exists
                previewUrl = `https://drive.google.com/thumbnail?id=${file.id}&sz=s4000`;
            }

            return {
              id: file.id,
              name: file.name.replace(/\.[^/.]+$/, ''),
              thumbnailLink: file.thumbnailLink || `https://drive.google.com/thumbnail?id=${file.id}`,
              previewLink: previewUrl,
              downloadLink: file.webContentLink || `https://drive.google.com/uc?export=download&id=${file.id}`
            };
          });

        folderCache[folderId] = items;
        return items;
      } catch (error) {
        console.error('Error fetching files:', error);
        return [];
      }
    }

    async function loadCategory(category, folderId) {
      const contentTitle = document.getElementById('content-title');
      const contentDescription = document.getElementById('content-description');
      const subfolderContent = document.getElementById('subfolderContent');
      const gridView = document.getElementById('grid-view');
      const searchInput = document.getElementById('search-input');
      
      if (contentTitle) {
        contentTitle.textContent = category;
      }
      if (contentDescription) {
        contentDescription.textContent = folderDescriptions[folderId] || "";
      }
      if (searchInput) {
        searchInput.value = '';
      }
      
      // Show loading state for subfolders
      subfolderContent.innerHTML = '<div class="loading"><div class="spinner"></div><p>Loading subfolders...</p></div>';
      
      // Fetch subfolders from Google Drive
      if (folderId) {
        const subfolders = await fetchFoldersFromFolder(folderId);
        renderSubfolders(subfolders);
        
        // Clear grid view
        gridView.innerHTML = '<div class="loading"><p>Select a subfolder to view images</p></div>';
      } else {
        subfolderContent.innerHTML = '<div class="loading"><p>No folder specified</p></div>';
      }
    }

    function renderSubfolders(subfolders) {
      const subfolderContent = document.getElementById('subfolderContent');
      
      if (subfolders.length === 0) {
        subfolderContent.innerHTML = '<div class="loading"><p>No subfolders found</p></div>';
        return;
      }

      const subfolderHTML = `
        ${subfolders.map((folder, index) => `
          <div class="subfolder-item" data-folder-id="${folder.id}" data-folder-name="${folder.name}" role="button" tabindex="0">
            <div class="subfolder-icon">
              üìÅ
            </div>
            <div class="subfolder-title">${folder.name}</div>
          </div>
        `).join('')}
      `;
      
      subfolderContent.innerHTML = subfolderHTML;

      // Attach click handlers
      const subfolderItems = subfolderContent.querySelectorAll('.subfolder-item');
      subfolderItems.forEach(item => {
        item.addEventListener('click', async () => {
          const folderId = item.dataset.folderId;
          const folderName = item.dataset.folderName;
          
          // Update UI
          subfolderItems.forEach(i => i.classList.remove('active'));
          item.classList.add('active');
          
          currentSubfolderId = folderId;
          
          // Load images from this subfolder
          const gridView = document.getElementById('grid-view');
          gridView.innerHTML = '<div class="loading"><div class="spinner"></div><p>Loading images...</p></div>';
          
          currentItems = await fetchFilesFromFolder(folderId);
          filteredItems = [...currentItems];
          renderGrid();
        });
        
        item.addEventListener('keypress', async (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const folderId = item.dataset.folderId;
            
            // Update UI
            subfolderItems.forEach(i => i.classList.remove('active'));
            item.classList.add('active');
            
            currentSubfolderId = folderId;
            
            // Load images from this subfolder
            const gridView = document.getElementById('grid-view');
            gridView.innerHTML = '<div class="loading"><div class="spinner"></div><p>Loading images...</p></div>';
            
            currentItems = await fetchFilesFromFolder(folderId);
            filteredItems = [...currentItems];
            renderGrid();
          }
        });
      });
    }

    function filterItems(searchTerm) {
      const term = searchTerm.toLowerCase().trim();
      filteredItems = currentItems.filter(item => 
        item.name.toLowerCase().includes(term)
      );
      renderGrid();
    }

    function renderGrid() {
      const gridView = document.getElementById('grid-view');
      
      if (filteredItems.length === 0) {
        gridView.innerHTML = '<div class="loading"><p>No photos found</p></div>';
        return;
      }

      const gridHTML = `
        <div class="grid-container">
          ${filteredItems.map((item, index) => `
            <div class="grid-item" data-index="${index}" role="button" tabindex="0" aria-label="View ${item.name}">
              <div class="grid-item-image">
                <img src="${item.thumbnailLink}" alt="${item.name}" loading="lazy">
              </div>
              <div class="grid-item-title">${item.name}</div>
            </div>
          `).join('')}
        </div>
      `;
      
      gridView.innerHTML = gridHTML;

      // Attach click handlers
      const gridItems = gridView.querySelectorAll('.grid-item');
      gridItems.forEach(item => {
        item.addEventListener('click', () => {
          const index = parseInt(item.dataset.index, 10);
          openModal(index);
        });
        
        item.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const index = parseInt(item.dataset.index, 10);
            openModal(index);
          }
        });
      });
    }

    function openModal(index) {
      currentIndex = index;
      const item = filteredItems[index];
      const modal = document.getElementById('modal');
      const modalImage = document.getElementById('modal-image');
      
      if (modalImage) {
        modalImage.src = item.previewLink;
        modalImage.alt = item.name;
      }
      
      zoomLevel = 1;
      if (modal) {
        modal.classList.add('active');
      }
    }

    function closeModal() {
      const modal = document.getElementById('modal');
      if (modal) {
        modal.classList.remove('active');
      }
      zoomLevel = 1;
    }

    function showPrevious() {
      currentIndex = (currentIndex - 1 + filteredItems.length) % filteredItems.length;
      openModal(currentIndex);
    }

    function showNext() {
      currentIndex = (currentIndex + 1) % filteredItems.length;
      openModal(currentIndex);
    }

    function zoomIn() {
      const modalImage = document.getElementById('modal-image');
      zoomLevel = Math.min(zoomLevel + 0.2, 3);
      if (modalImage) {
        modalImage.style.transform = `scale(${zoomLevel})`;
      }
    }

    function zoomOut() {
      const modalImage = document.getElementById('modal-image');
      zoomLevel = Math.max(zoomLevel - 0.2, 0.5);
      if (modalImage) {
        modalImage.style.transform = `scale(${zoomLevel})`;
      }
    }

    function downloadImage() {
      const item = filteredItems[currentIndex];
      if (item && item.downloadLink) {
        const link = document.createElement('a');
        link.href = item.downloadLink;
        link.download = item.name;
        link.target = '_blank';
        link.rel = 'noopener noreferrer';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
      showToast(`Download started: ${item.name}`);
    }

    function copyLink() {
      const item = filteredItems[currentIndex];
      if (item && item.downloadLink) {
        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(item.downloadLink).then(() => {
            showToast(`Link copied: ${item.name}`);
          }).catch(() => {
            fallbackCopyTextToClipboard(item.downloadLink);
            showToast(`Link copied: ${item.name}`);
          });
        } else {
          fallbackCopyTextToClipboard(item.downloadLink);
          showToast(`Link copied: ${item.name}`);
        }
      }
    }

    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement("textarea");
      textArea.value = text;
      textArea.style.position = "fixed";
      textArea.style.left = "-999999px";
      textArea.style.top = "-999999px";
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        document.execCommand('copy');
      } catch (err) {
        console.error('Fallback: Oops, unable to copy', err);
      }
      document.body.removeChild(textArea);
    }

    function showToast(message) {
      // Remove any existing toast
      const existingToast = document.querySelector('.toast-notification');
      if (existingToast) {
        existingToast.remove();
      }
      
      const toast = document.createElement('div');
      toast.className = 'toast-notification';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      // Animate in
      setTimeout(() => {
        toast.classList.add('show');
      }, 10);
      
      // Auto remove after 3 seconds
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 300);
      }, 3000);
    }

    async function onConfigChange(config) {
      const topbarTitle = document.getElementById('topbar-title');
      const footerText = document.getElementById('footer-text');
      
      if (topbarTitle) {
        topbarTitle.textContent = config.page_title || defaultConfig.page_title;
      }
      if (footerText) {
        footerText.textContent = config.footer_text || defaultConfig.footer_text;
      }

      // Apply font
      const customFont = config.font_family || defaultConfig.font_family;
      document.body.style.fontFamily = `${customFont}, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`;

      // Apply colors
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;

      document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${secondaryColor} 50%, #a1c4fd 100%)`;
      
      const allText = document.querySelectorAll('.topbar-title, .content-title, .grid-item-title, .nav-item, .footer-text, .subfolder-title');
      allText.forEach(el => {
        el.style.color = textColor;
      });

      const navItems = document.querySelectorAll('.nav-item.active');
      navItems.forEach(el => {
        el.style.background = `linear-gradient(135deg, ${primaryColor}, ${secondaryColor})`;
      });

      // Apply font size
      const baseSize = config.font_size || defaultConfig.font_size;
      if (topbarTitle) topbarTitle.style.fontSize = `${baseSize * 1.375}px`;
      const contentTitle = document.getElementById('content-title');
      if (contentTitle) contentTitle.style.fontSize = `${baseSize * 1.75}px`;
    }

    // Initialize the application
    function init() {
      // Set up responsive layout handler
      window.addEventListener('resize', handleResponsiveLayout);
      handleResponsiveLayout();
      
      // Attach event listeners
      attachEventListeners();
      
      // Load initial category
      loadCategory(currentCategory, currentFolderId);
      
      // Apply configuration
      onConfigChange(defaultConfig);
    }

    // Start the application when DOM is loaded
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>